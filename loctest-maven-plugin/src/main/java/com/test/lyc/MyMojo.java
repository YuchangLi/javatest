package com.test.lyc;

/*
 * Copyright 2001-2005 The Apache Software Foundation.
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */

import org.apache.commons.io.FileUtils;
import org.apache.maven.model.Resource;
import org.apache.maven.plugin.AbstractMojo;
import org.apache.maven.plugin.MojoExecutionException;
import org.apache.maven.plugins.annotations.Mojo;
import org.apache.maven.plugins.annotations.Parameter;
import org.apache.maven.project.MavenProject;
import org.eclipse.aether.RepositorySystemSession;

import java.io.File;
import java.io.IOException;
import java.util.List;

/**
 * Goal which touches a timestamp file.
 *
 * @deprecated Don't use!
 */
@Mojo(name = "touch")
public class MyMojo extends AbstractMojo {
    /**
     * Location of the file.
     */
    @Parameter(property = "outputDir", defaultValue = "${project.build.directory}", required = true)
    private File outputDirectory;

    @Parameter(defaultValue = "${project.build.sourceDirectory}", required = true, readonly = true)
    private File sourceDirectory;

    @Parameter(defaultValue = "${project}", required = true, readonly = true)
    MavenProject project;

    @Parameter(property = "projectName")
    public String projectName;
    @Parameter(defaultValue = "${repositorySystemSession}")
    private RepositorySystemSession repoSession;

    @Override
    public void execute() throws MojoExecutionException {
//        if (project != null) {
//            System.out.println("project = " + JSON.toJSONString(project));
//        }
        File basedir = project.getBasedir();
        List<Resource> resources = project.getResources();
        File resource  = new File(resources.get(0).getDirectory());
        getLog().info("resource.getAbsolutePath() = " + resource.getAbsolutePath() + ", basedir = " + basedir.getAbsolutePath());
        File docStrFile = new File(resource, "docJson.txt");
        String docJson = "[{\"application\":\"gateway-test\",\"businessDomain\":\"banma\",\"businessGroup\":\"banshu\",\"hsfLoc\":{\"dailyVersion\":\"1.0.0.DAILY\",\"preVersion\":\"1.0.0.PRE\",\"proVersion\":\"1.0.0\"},\"infTags\":{\"date\":\"2023/07/20\",\"author\":\"liyuchang\",\"comment\":\"权限包Controller\"},\"mavenLoc\":{\"artifactId\":\"banma-operation-platform-client\",\"groupId\":\"com.zebra.framework.gateway\",\"version\":\"1.0.0-SNAPSHOT\"},\"name\":\"list\",\"params\":[{\"clazz\":\"com.zebra.gateway.platform.permissionpackage.request.ListPermissionPackageQry\",\"name\":\"qry\",\"paramTags\":{\"author\":\"liyuchang\",\"comment\":\"权限包列表查询参数\"},\"params\":[{\"clazz\":\"java.lang.String\",\"name\":\"searchKey\",\"paramTags\":{\"comment\":\"搜索关键字 权限包名称或应用名模糊匹配\"},\"params\":[]},{\"clazz\":\"java.lang.Long\",\"name\":\"appId\",\"paramTags\":{\"comment\":\"应用id\",\"required\":\"\"},\"params\":[]}]}],\"path\":\"com.zebra.gateway.platform.web.permissionpackage.PermissionPackageController\",\"protocolJson\":[\"{\\\"name\\\":\\\"HTTP\\\",\\\"protocolParams\\\":{\\\"isRestful\\\":\\\"true\\\",\\\"requestLocation\\\":\\\"/gateway/platform/permissionPackage/list\\\"}}\"],\"protocolModels\":[{\"name\":\"HTTP\",\"protocolParams\":{\"isRestful\":\"true\",\"requestLocation\":\"/gateway/platform/permissionPackage/list\"}}],\"returnParam\":{\"clazz\":\"com.alibaba.cola.dto.SingleResponse<java.util.List<com.zebra.gateway.platform.permissionpackage.dto.PermissionPackageDTO>>\",\"paramTags\":{\"comment\":\"Response with single record to return\\n<p/>\\nCreated by Danny.Lee on 2017/11/1.\"},\"params\":[{\"clazz\":\"java.util.List<com.zebra.gateway.platform.permissionpackage.dto.PermissionPackageDTO>\",\"name\":\"data\",\"paramTags\":{},\"params\":[{\"clazz\":\"com.zebra.gateway.platform.permissionpackage.dto.PermissionPackageDTO\",\"paramTags\":{\"author\":\"liyuchang\",\"comment\":\"权限包\"},\"params\":[{\"clazz\":\"java.lang.Long\",\"name\":\"id\",\"paramTags\":{\"comment\":\"主键\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"packageName\",\"paramTags\":{\"comment\":\"权限包名称\"},\"params\":[]},{\"clazz\":\"java.lang.Long\",\"name\":\"appId\",\"paramTags\":{\"comment\":\"应用id\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"appName\",\"paramTags\":{\"comment\":\"appName\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"appLabel\",\"paramTags\":{\"comment\":\"应用名\"},\"params\":[]},{\"clazz\":\"java.lang.Byte\",\"name\":\"appState\",\"paramTags\":{\"comment\":\"应用状态: 0-已禁用,1-已启用<br>\\n字典type: GATEWAY_PF_APP_STATE\"},\"params\":[]},{\"clazz\":\"java.lang.Integer\",\"name\":\"appKeyCount\",\"paramTags\":{\"comment\":\"已绑定appKey数量\"},\"params\":[]},{\"clazz\":\"java.lang.Integer\",\"name\":\"openApiCount\",\"paramTags\":{\"comment\":\"已配置api数量\"},\"params\":[]},{\"clazz\":\"java.lang.Integer\",\"name\":\"relateState\",\"paramTags\":{\"comment\":\"关联状态: 0-已禁用,1-已启用<br>\\n字典type: GATEWAY_PF_AP_RELATE_STATE\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"remark\",\"paramTags\":{\"comment\":\"备注\"},\"params\":[]},{\"clazz\":\"java.lang.Long\",\"name\":\"creatorId\",\"paramTags\":{\"comment\":\"创建人id\"},\"params\":[]},{\"clazz\":\"java.util.Date\",\"name\":\"gmtCreate\",\"paramTags\":{\"comment\":\"创建时间\"},\"params\":[]},{\"clazz\":\"java.util.Date\",\"name\":\"gmtModified\",\"paramTags\":{\"comment\":\"最后更新时间\"},\"params\":[]}]}]},{\"clazz\":\"boolean\",\"name\":\"success\",\"paramTags\":{},\"params\":[]},{\"clazz\":\"boolean\",\"name\":\"isSuccess\",\"paramTags\":{\"comment\":\"为了兼容 2.x 版本而增加兼容属性\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"errCode\",\"paramTags\":{},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"errMessage\",\"paramTags\":{},\"params\":[]}]},\"tags\":{\"param\":\"qry 查询参数\",\"comment\":\"权限包列表<br>\\n权限包列表查询\",\"return\":\"SingleResponse<List<PermissionPackageDTO>>\"}},{\"application\":\"gateway-test\",\"businessDomain\":\"banma\",\"businessGroup\":\"banshu\",\"hsfLoc\":{\"dailyVersion\":\"1.0.0.DAILY\",\"preVersion\":\"1.0.0.PRE\",\"proVersion\":\"1.0.0\"},\"infTags\":{\"date\":\"2023/07/20\",\"author\":\"liyuchang\",\"comment\":\"权限包Controller\"},\"mavenLoc\":{\"artifactId\":\"banma-operation-platform-client\",\"groupId\":\"com.zebra.framework.gateway\",\"version\":\"1.0.0-SNAPSHOT\"},\"name\":\"pageList\",\"params\":[{\"clazz\":\"com.zebra.gateway.platform.permissionpackage.request.PageListPermissionPackageQry\",\"name\":\"qry\",\"paramTags\":{\"author\":\"liyuchang\",\"comment\":\"权限包列表分页查询参数\"},\"params\":[{\"clazz\":\"java.lang.Long\",\"name\":\"appKeyId\",\"paramTags\":{\"comment\":\"appKeyId(主键)\",\"required\":\"\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"searchApp\",\"paramTags\":{\"comment\":\"应用 按appName或应用中文名模糊匹配\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"packageName\",\"paramTags\":{\"comment\":\"权限包名 模糊匹配\"},\"params\":[]}]}],\"path\":\"com.zebra.gateway.platform.web.permissionpackage.PermissionPackageController\",\"protocolJson\":[\"{\\\"name\\\":\\\"HTTP\\\",\\\"protocolParams\\\":{\\\"isRestful\\\":\\\"true\\\",\\\"requestLocation\\\":\\\"/gateway/platform/permissionPackage/pageList\\\"}}\"],\"protocolModels\":[{\"name\":\"HTTP\",\"protocolParams\":{\"isRestful\":\"true\",\"requestLocation\":\"/gateway/platform/permissionPackage/pageList\"}}],\"returnParam\":{\"clazz\":\"com.alibaba.cola.dto.SingleResponse<com.banma.operation.dto.PageDTO<com.zebra.gateway.platform.permissionpackage.dto.PermissionPackageDTO>>\",\"paramTags\":{\"comment\":\"Response with single record to return\\n<p/>\\nCreated by Danny.Lee on 2017/11/1.\"},\"params\":[{\"clazz\":\"com.banma.operation.dto.PageDTO\",\"name\":\"data\",\"paramTags\":{\"date\":\"2022/7/25\",\"author\":\"chenzhuang.cz\",\"comment\":\"分页结果对象\"},\"params\":[{\"clazz\":\"java.lang.Integer\",\"name\":\"totalPages\",\"paramTags\":{\"comment\":\"总页数\"},\"params\":[]},{\"clazz\":\"java.lang.Long\",\"name\":\"totalCount\",\"paramTags\":{\"comment\":\"总记录数\"},\"params\":[]},{\"clazz\":\"java.lang.Integer\",\"name\":\"pageSize\",\"paramTags\":{\"comment\":\"没页大小\"},\"params\":[]},{\"clazz\":\"java.lang.Integer\",\"name\":\"pageIndex\",\"paramTags\":{\"comment\":\"当前页数\"},\"params\":[]},{\"clazz\":\"java.util.List<com.zebra.gateway.platform.permissionpackage.dto.PermissionPackageDTO>\",\"name\":\"data\",\"paramTags\":{\"comment\":\"数据\"},\"params\":[{\"clazz\":\"com.zebra.gateway.platform.permissionpackage.dto.PermissionPackageDTO\",\"paramTags\":{\"author\":\"liyuchang\",\"comment\":\"权限包\"},\"params\":[{\"clazz\":\"java.lang.Long\",\"name\":\"id\",\"paramTags\":{\"comment\":\"主键\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"packageName\",\"paramTags\":{\"comment\":\"权限包名称\"},\"params\":[]},{\"clazz\":\"java.lang.Long\",\"name\":\"appId\",\"paramTags\":{\"comment\":\"应用id\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"appName\",\"paramTags\":{\"comment\":\"appName\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"appLabel\",\"paramTags\":{\"comment\":\"应用名\"},\"params\":[]},{\"clazz\":\"java.lang.Byte\",\"name\":\"appState\",\"paramTags\":{\"comment\":\"应用状态: 0-已禁用,1-已启用<br>\\n字典type: GATEWAY_PF_APP_STATE\"},\"params\":[]},{\"clazz\":\"java.lang.Integer\",\"name\":\"appKeyCount\",\"paramTags\":{\"comment\":\"已绑定appKey数量\"},\"params\":[]},{\"clazz\":\"java.lang.Integer\",\"name\":\"openApiCount\",\"paramTags\":{\"comment\":\"已配置api数量\"},\"params\":[]},{\"clazz\":\"java.lang.Integer\",\"name\":\"relateState\",\"paramTags\":{\"comment\":\"关联状态: 0-已禁用,1-已启用<br>\\n字典type: GATEWAY_PF_AP_RELATE_STATE\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"remark\",\"paramTags\":{\"comment\":\"备注\"},\"params\":[]},{\"clazz\":\"java.lang.Long\",\"name\":\"creatorId\",\"paramTags\":{\"comment\":\"创建人id\"},\"params\":[]},{\"clazz\":\"java.util.Date\",\"name\":\"gmtCreate\",\"paramTags\":{\"comment\":\"创建时间\"},\"params\":[]},{\"clazz\":\"java.util.Date\",\"name\":\"gmtModified\",\"paramTags\":{\"comment\":\"最后更新时间\"},\"params\":[]}]}]}]},{\"clazz\":\"boolean\",\"name\":\"success\",\"paramTags\":{},\"params\":[]},{\"clazz\":\"boolean\",\"name\":\"isSuccess\",\"paramTags\":{\"comment\":\"为了兼容 2.x 版本而增加兼容属性\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"errCode\",\"paramTags\":{},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"errMessage\",\"paramTags\":{},\"params\":[]}]},\"tags\":{\"param\":\"qry 查询参数\",\"comment\":\"权限包分页列表<br>\\n按appKeyId、应用名等分页查询\",\"return\":\"SingleResponse<PageDTO<PermissionPackageDTO>>\"}},{\"application\":\"gateway-test\",\"businessDomain\":\"banma\",\"businessGroup\":\"banshu\",\"hsfLoc\":{\"dailyVersion\":\"1.0.0.DAILY\",\"preVersion\":\"1.0.0.PRE\",\"proVersion\":\"1.0.0\"},\"infTags\":{\"date\":\"2023/07/20\",\"author\":\"liyuchang\",\"comment\":\"权限包Controller\"},\"mavenLoc\":{\"artifactId\":\"banma-operation-platform-client\",\"groupId\":\"com.zebra.framework.gateway\",\"version\":\"1.0.0-SNAPSHOT\"},\"name\":\"pageList2\",\"params\":[{\"clazz\":\"com.zebra.gateway.platform.permissionpackage.request.PageListPermissionPackageQry\",\"name\":\"qry\",\"paramTags\":{\"author\":\"liyuchang\",\"comment\":\"权限包列表分页查询参数\"},\"params\":[{\"clazz\":\"java.lang.Long\",\"name\":\"appKeyId\",\"paramTags\":{\"comment\":\"appKeyId(主键)\",\"required\":\"\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"searchApp\",\"paramTags\":{\"comment\":\"应用 按appName或应用中文名模糊匹配\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"packageName\",\"paramTags\":{\"comment\":\"权限包名 模糊匹配\"},\"params\":[]}]}],\"path\":\"com.zebra.gateway.platform.web.permissionpackage.PermissionPackageController\",\"protocolJson\":[\"{\\\"name\\\":\\\"HTTP\\\",\\\"protocolParams\\\":{\\\"isRestful\\\":\\\"true\\\",\\\"requestLocation\\\":\\\"/gateway/platform/permissionPackage/pageList2\\\"}}\"],\"protocolModels\":[{\"name\":\"HTTP\",\"protocolParams\":{\"isRestful\":\"true\",\"requestLocation\":\"/gateway/platform/permissionPackage/pageList2\"}}],\"returnParam\":{\"clazz\":\"com.banma.operation.dto.PageDTO<com.zebra.gateway.platform.permissionpackage.dto.PermissionPackageDTO>\",\"paramTags\":{\"date\":\"2022/7/25\",\"author\":\"chenzhuang.cz\",\"comment\":\"分页结果对象\"},\"params\":[{\"clazz\":\"java.lang.Integer\",\"name\":\"totalPages\",\"paramTags\":{\"comment\":\"总页数\"},\"params\":[]},{\"clazz\":\"java.lang.Long\",\"name\":\"totalCount\",\"paramTags\":{\"comment\":\"总记录数\"},\"params\":[]},{\"clazz\":\"java.lang.Integer\",\"name\":\"pageSize\",\"paramTags\":{\"comment\":\"没页大小\"},\"params\":[]},{\"clazz\":\"java.lang.Integer\",\"name\":\"pageIndex\",\"paramTags\":{\"comment\":\"当前页数\"},\"params\":[]},{\"clazz\":\"java.util.List<com.zebra.gateway.platform.permissionpackage.dto.PermissionPackageDTO>\",\"name\":\"data\",\"paramTags\":{\"comment\":\"数据\"},\"params\":[{\"clazz\":\"com.zebra.gateway.platform.permissionpackage.dto.PermissionPackageDTO\",\"paramTags\":{\"author\":\"liyuchang\",\"comment\":\"权限包\"},\"params\":[{\"clazz\":\"java.lang.Long\",\"name\":\"id\",\"paramTags\":{\"comment\":\"主键\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"packageName\",\"paramTags\":{\"comment\":\"权限包名称\"},\"params\":[]},{\"clazz\":\"java.lang.Long\",\"name\":\"appId\",\"paramTags\":{\"comment\":\"应用id\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"appName\",\"paramTags\":{\"comment\":\"appName\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"appLabel\",\"paramTags\":{\"comment\":\"应用名\"},\"params\":[]},{\"clazz\":\"java.lang.Byte\",\"name\":\"appState\",\"paramTags\":{\"comment\":\"应用状态: 0-已禁用,1-已启用<br>\\n字典type: GATEWAY_PF_APP_STATE\"},\"params\":[]},{\"clazz\":\"java.lang.Integer\",\"name\":\"appKeyCount\",\"paramTags\":{\"comment\":\"已绑定appKey数量\"},\"params\":[]},{\"clazz\":\"java.lang.Integer\",\"name\":\"openApiCount\",\"paramTags\":{\"comment\":\"已配置api数量\"},\"params\":[]},{\"clazz\":\"java.lang.Integer\",\"name\":\"relateState\",\"paramTags\":{\"comment\":\"关联状态: 0-已禁用,1-已启用<br>\\n字典type: GATEWAY_PF_AP_RELATE_STATE\"},\"params\":[]},{\"clazz\":\"java.lang.String\",\"name\":\"remark\",\"paramTags\":{\"comment\":\"备注\"},\"params\":[]},{\"clazz\":\"java.lang.Long\",\"name\":\"creatorId\",\"paramTags\":{\"comment\":\"创建人id\"},\"params\":[]},{\"clazz\":\"java.util.Date\",\"name\":\"gmtCreate\",\"paramTags\":{\"comment\":\"创建时间\"},\"params\":[]},{\"clazz\":\"java.util.Date\",\"name\":\"gmtModified\",\"paramTags\":{\"comment\":\"最后更新时间\"},\"params\":[]}]}]}]},\"tags\":{\"param\":\"qry 查询参数\",\"comment\":\"权限包分页列表<br>\\n按appKeyId、应用名等分页查询\",\"return\":\"SingleResponse<PageDTO<PermissionPackageDTO>>\"}}]";
        try {
            FileUtils.writeStringToFile(docStrFile, docJson);
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
        getLog().info("docStrFile.getAbsolutePath() = " + docStrFile.getAbsolutePath());
    }
}
